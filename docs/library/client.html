<!DOCTYPE html><html><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>client</title><meta property="og:title" content="client" /><meta property="og:type" content="website" /><meta name="description" content="Utilities for a simple client." /><meta property="og:description" content="Utilities for a simple client." /><meta property="og:site_name" content="TSNCP" /><link rel="stylesheet" href="..\main.css?v=8bfa8c58" type="text/css" /></head><body><nav id="nav"><button id="nav-reveal" type="button">&#9776;</button><h1><a href="..\.\">TSNCP</a></h1><div class="nav-links"><h2 tabindex="0">Contents</h2><ul><li><a href="#v:new" class="sidebar-link">new</a></li><li><a href="#v:verboseLog" class="sidebar-link">verboseLog</a></li><li><a href="#v:connect" class="sidebar-link">connect</a></li><li><a href="#v:transmitRaw" class="sidebar-link">transmitRaw</a></li><li><a href="#v:transmit" class="sidebar-link">transmit</a></li><li><a href="#v:disconnect" class="sidebar-link">disconnect</a></li><li><a href="#v:decryptMessage" class="sidebar-link">decryptMessage</a></li><li><a href="#v:onMessage" class="sidebar-link">onMessage</a></li><li><a href="#v:run" class="sidebar-link">run</a></li></ul><h2 class="collapsed" tabindex="0">Globals</h2><ul><li><a href="..\module\SPEC.html" class="sidebar-link">TSNCP Packet Information</a></li></ul><h2 tabindex="0">Modules</h2><ul><li><strong class="sidebar-link selected">client</strong></li><li><a href="ecc.html" class="sidebar-link">ecc</a></li><li><a href="server.html" class="sidebar-link">server</a></li><li><a href="utils.html" class="sidebar-link">utils</a></li></ul></div></nav><div id="main"><div id="search-form" role="form"><input id="search-box" type="text" placeholder="Search..." autocomplete="off" tabindex="0"></input><div id="search-results"></div></div><section id="content"><h1>client</h1><p>Utilities for a simple client. A /.public.lua file containing a Byte Array of the certificate authority's public key is required.</p>
<table class="definition-list"><tr><th class="definition-name"><a href="#v:new">new(server [, modem [, verbose]])</a></th><td>Creates a client, ready to connect.</td></tr><tr><th class="definition-name"><a href="#v:verboseLog">verboseLog(...)</a></th><td></td></tr><tr><th class="definition-name"><a href="#v:connect">connect()</a></th><td>Connects to the server.</td></tr><tr><th class="definition-name"><a href="#v:transmitRaw">transmitRaw(data [, string])</a></th><td>Throws some data out into the wild and gives you the request ID.</td></tr><tr><th class="definition-name"><a href="#v:transmit">transmit(data)</a></th><td>Transmits data to the server, and hopefully returns the response.</td></tr><tr><th class="definition-name"><a href="#v:disconnect">disconnect()</a></th><td>Disconnects from the server.</td></tr><tr><th class="definition-name"><a href="#v:decryptMessage">decryptMessage(message)</a></th><td>Decrypts a message.</td></tr><tr><th class="definition-name"><a href="#v:onMessage">onMessage(name, func)</a></th><td>Connects a function to when a message is received.</td></tr><tr><th class="definition-name"><a href="#v:run">run()</a></th><td>Runs the client.</td></tr></table><dl class="definition"><dt><a name="v:new" href="#v:new"></a><span class="definition-name">new(server [, modem [, verbose]])</span></dt><dd><p>Creates a client, ready to connect.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">server</span>  string The server to connect to.</li><li><span class="parameter">modem<span class="optional" title="This argument is optional">?</span></span>  table The modem to use in communication. If this is not provided, it will be gotten via peripheral.find.</li><li><span class="parameter">verbose<span class="optional" title="This argument is optional">?</span></span>  boolean Whether to print out information about the connection.</li></ol><h3>Returns</h3><ol class="return-list"><li> table The new server.</li></ol></dd><dt><a name="v:verboseLog" href="#v:verboseLog"></a><span class="definition-name">verboseLog(...)</span></dt><dd><h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">...</span>  </li></ol></dd><dt><a name="v:connect" href="#v:connect"></a><span class="definition-name">connect()</span></dt><dd><p>Connects to the server.</p>
<h3>Returns</h3><ol class="return-list"><li> boolean True if the connection was successful, false otherwise.</li></ol></dd><dt><a name="v:transmitRaw" href="#v:transmitRaw"></a><span class="definition-name">transmitRaw(data [, string])</span></dt><dd><p>Throws some data out into the wild and gives you the request ID.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">data</span>  table The data to transmit.</li><li><span class="parameter">string<span class="optional" title="This argument is optional">?</span></span>  The request ID. This will be random if not provided.</li></ol><h3>Returns</h3><ol class="return-list"><li> string The request UUID.</li></ol></dd><dt><a name="v:transmit" href="#v:transmit"></a><span class="definition-name">transmit(data)</span></dt><dd><p>Transmits data to the server, and hopefully returns the response.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">data</span>  table The data to transmit.</li></ol><h3>Returns</h3><ol class="return-list"><li> table The response. This will be nil if it failed, with an error message.</li><li> string An error message if the request failed.</li></ol></dd><dt><a name="v:disconnect" href="#v:disconnect"></a><span class="definition-name">disconnect()</span></dt><dd><p>Disconnects from the server.</p>
<h3>Returns</h3><ol class="return-list"><li> boolean True if the disconnection was successful, false otherwise.</li><li> table The goodbye packet from the server.</li></ol></dd><dt><a name="v:decryptMessage" href="#v:decryptMessage"></a><span class="definition-name">decryptMessage(message)</span></dt><dd><p>Decrypts a message.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">message</span>  table The message to decrypt.</li></ol><h3>Returns</h3><ol class="return-list"><li> table The decrypted message. This will be nil if it wasn't in the right format.</li></ol></dd><dt><a name="v:onMessage" href="#v:onMessage"></a><span class="definition-name">onMessage(name, func)</span></dt><dd><p>Connects a function to when a message is received.</p>
<h3>Parameters</h3><ol class="parameter-list"><li><span class="parameter">name</span>  </li><li><span class="parameter">func</span>  </li></ol></dd><dt><a name="v:run" href="#v:run"></a><span class="definition-name">run()</span></dt><dd><p>Runs the client.</p>
</dd></dl></section><footer>Last updated on 2022-06-26</footer></div><div id="search-overlay"></div><script src="..\main.js?v=0f849364" type="text/javascript" defer=""></script></body></html>